from abc import ABC, abstractmethod
from typing import List, Optional
from internal.domain.models import ExperimentCreate, ExperimentRunCreate, ExperimentRunResponse, ExperimentResponse

class ExperimentRepositoryPort(ABC):

    @abstractmethod
    def create_experiment(self, experiment: ExperimentCreate) -> ExperimentResponse: ...
    @abstractmethod
    def get_experiment_by_name(self, name: str) -> Optional[ExperimentResponse]: ...
    @abstractmethod
    def get_experiment(self, experiment_id: int) -> Optional[ExperimentResponse]: ...

    @abstractmethod
    def create_run(self, run: ExperimentRunCreate) -> ExperimentRunResponse: ...
    @abstractmethod
    def get_run(self, run_id: int) -> Optional[ExperimentRunResponse]: ...
    @abstractmethod
    def get_run_versions(self, experiment_id: int) -> List[int]: ...

    @abstractmethod
    def create_parameter(self, run_id: int, key: str, value: str): ...
    @abstractmethod
    def create_metric(self, run_id: int, key: str, value: float): ...
    @abstractmethod
    def create_artifact(self, run_id: int, file_path: str, type: Optional[str] = None): ...
    @abstractmethod
    def get_parameters(self, run_id: int) -> List[dict]: ...
    @abstractmethod
    def get_metrics(self, run_id: int) -> List[dict]: ...
    @abstractmethod
    def get_artifacts(self, run_id: int) -> List[dict]: ...
